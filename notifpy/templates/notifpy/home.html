{% extends 'notifpy/base.html' %}
{% load static %}

{% block body %}

<template id="template--stream">
    <a class="image-link tooltip">
        <img class="channel__thumbnail" />
        <span class="tooltip__div">
            <span class="tooltip__user"></span>
            <span class="tooltip__game"></span>
            <span class="tooltip__title"></span>
            <img class="tooltip__screen" />
        </span>
    </a>
</template>

<div id="stream_list" class="stream_banner"></div>

{% if videos %}
<div class="gallery--grid">
    {% for video in videos %}
    {% include "notifpy/video.html" %}
    {% endfor %}
</div>
<div class="pagination">
    <span class="step-links">
        {% if videos.has_previous %}
        <a href="?page=1"><img class="nav_icon" src="{% static 'notifpy/icons/start.svg' %}" alt="&laquo; first"></a>
        <a href="?page={{ videos.previous_page_number }}"><img class="nav_icon" src="{% static 'notifpy/icons/chevron_left.svg' %}" alt="previous"></a>
        {% endif %}

        <span class="current">
            {{ videos.number }} / {{ videos.paginator.num_pages }}
        </span>

        {% if videos.has_next %}
        <a href="?page={{ videos.next_page_number }}"><img class="nav_icon" src="{% static 'notifpy/icons/chevron_right.svg' %}" alt="next"></a>
        <a href="?page={{ videos.paginator.num_pages }}"><img class="nav_icon" src="{% static 'notifpy/icons/end.svg' %}" alt="last &raquo;"></a>
        {% endif %}
    </span>
</div>
{% else %}
<p>No videos to show.</p>
{% endif %}

<script type="text/javascript">
    var STREAMS_ROUTE = "{% url 'notifpy:twitch_streams_api' %}";
</script>

<script type="text/javascript" src="{% static 'notifpy/js/streams.js' %}">

</script>

{% endblock %}
